{"version":3,"file":"ExpoDefinePlugin.js","sourceRoot":"","sources":["../../src/plugins/ExpoDefinePlugin.ts"],"names":[],"mappings":";;;;;AACA,qCAAuC;AACvC,yCAA0D;AAC1D,yFAAiE;AAGjE;;;GAGG;AACH,MAAqB,gBAAiB,SAAQ,sBAAY;IACxD,YAAY,EACV,IAAI,EACJ,SAAS,EACT,sBAAsB,EACtB,MAAM,GAMP;QACC,MAAM,iBAAiB,GAAG,mCAA0B,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QAErF,MAAM,oBAAoB,GAAG,iCAAuB,CAAC,IAAI,EAAE,SAAS,EAAE,iBAAiB,CAAC,CAAC;QAEzF,KAAK,CAAC,oBAAoB,CAAC,CAAC;IAC9B,CAAC;CACF;AAlBD,mCAkBC","sourcesContent":["import { ExpoConfig } from '@expo/config';\nimport { DefinePlugin } from 'webpack';\nimport { createEnvironmentConstants } from '@expo/config';\nimport createClientEnvironment from '../createClientEnvironment';\nimport { Mode } from '../types';\n\n/**\n * Required for `expo-constants` https://docs.expo.io/versions/latest/sdk/constants/\n * This surfaces the `app.json` (config) as an environment variable which is then parsed by `expo-constants`.\n */\nexport default class ExpoDefinePlugin extends DefinePlugin {\n  constructor({\n    mode,\n    publicUrl,\n    productionManifestPath,\n    config,\n  }: {\n    mode: Mode;\n    publicUrl: string;\n    productionManifestPath: string;\n    config: ExpoConfig;\n  }) {\n    const publicAppManifest = createEnvironmentConstants(config, productionManifestPath);\n\n    const environmentVariables = createClientEnvironment(mode, publicUrl, publicAppManifest);\n\n    super(environmentVariables);\n  }\n}\n"]}